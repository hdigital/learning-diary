{
  "hash": "a2413f5ebf0bab805b058025bf4a84ce",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ndate: '2023-10-10'\ndate-modified: last-modified\nimage: doi-logo.png\ncategories:\n  - Python\n  - API\nformat:\n  html:\n    toc: true\ntitle: Get DOI metadata\n---\n\n\n\n\n\n## DOI API access\n\nI was interested in getting the metadata for a DOI without using a package in Python or R. My goal was to get a better understanding of the APIs that are available to access DOI metadata.\n\nHere is an example with a request for my first peer-reviewed publication.\n\n\n::: {#41679e35 .cell execution_count=1}\n``` {.python .cell-code}\nimport requests\n\ndoi_url = \"https://doi.org/10.1177/1465116507076430\"\n\nheaders = {\"accept\": \"text/x-bibliography\"}\nr = requests.get(doi_url, headers=headers)\n\nr.text\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n'DÃ¶ring, H. (2007). The Composition of the College of Commissioners. European Union Politics, 8(2), 207â\\x80\\x93228. https://doi.org/10.1177/1465116507076430\\n'\n```\n:::\n:::\n\n\n## Content types\n\nThis is the API information I was interested in.\n\n<https://citation.crosscite.org/docs.html#sec-4>\n\n> \"Currently three DOI registration agencies have implemented content negotation for their DOIs: Crossref, DataCite and mEDRA. They support a number of metadata content types, some of which are common to the three RAs.\"\n\nI try to avoid xml-based formats, so that the following content types are of interst to me.\n\n- Formatted text citation // `text/x-bibliography`\n- BibTeX // `application/x-bibtex`\n- Citeproc JSON // `application/vnd.citationstyles.csl+json`\n- Schema.org in JSON-LD // `application/vnd.schemaorg.ld+json` (only DataCite)\n\nIt is actually nice to put a request into a function. I start with a simple example.\n\n::: {#89534c7d .cell execution_count=2}\n``` {.python .cell-code}\ndef get_doi_bib(doi):\n    \"\"\"Return a bibliography for a given DOI.\"\"\"\n\n    url = f\"https://doi.org/{doi}\"\n\n    headers = {\"accept\": \"text/x-bibliography\"}\n    r = requests.get(url, headers=headers)\n\n    return r.text\n\n\nget_doi_bib(\"10.1177/0958928715573481\")\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n'DÃ¶ring, H., & Schwander, H. (2015). Revisiting the left cabinet share: How to measure the partisan profile of governments in welfare state research. Journal of European Social Policy, 25(2), 175â\\x80\\x93193. https://doi.org/10.1177/0958928715573481\\n'\n```\n:::\n:::\n\n\nTo get the different formats I am interested in, I can rewrite the function.\n\n::: {#5801ba62 .cell execution_count=3}\n``` {.python .cell-code}\nimport time\nimport requests\n\nCONTENT_TYPES = {\n    \"bibliography\": \"text/x-bibliography\",\n    \"bibtex\": \"application/x-bibtex\",\n    \"json-csl\": \"application/vnd.citationstyles.csl+json\",\n    \"json-ld\": \"application/vnd.schemaorg.ld+json\",\n}\n\n\ndef get_doi_data(doi, content_type=\"bibliography\"):\n    \"\"\"Return metadata for DOI.\"\"\"\n\n    url = f\"https://doi.org/{doi}\"\n    headers = {\"accept\": CONTENT_TYPES.get(content_type, \"bibliography\")}\n\n    return requests.get(url, headers=headers)\n\n\ndoi = \"10.1016/j.electstud.2016.07.002\"\n\nfor key in CONTENT_TYPES:\n    time.sleep(2)  # pause to avoid requests limit\n    doi_request = get_doi_data(doi, key)\n    print(f\"DOI content type: {key}\\n{doi_request.text}\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nDOI content type: bibliography\nDÃ¶ring, H. (2016). Mapping established democracies: Integrated data on parties, elections and cabinets. Electoral Studies, 44, 535â543. https://doi.org/10.1016/j.electstud.2016.07.002\n\n\nDOI content type: bibtex\n @article{D_ring_2016, title={Mapping established democracies: Integrated data on parties, elections and cabinets}, volume={44}, ISSN={0261-3794}, url={http://dx.doi.org/10.1016/j.electstud.2016.07.002}, DOI={10.1016/j.electstud.2016.07.002}, journal={Electoral Studies}, publisher={Elsevier BV}, author={Döring, Holger}, year={2016}, month=dec, pages={535–543} }\n\n\nDOI content type: json-csl\n{\"indexed\":{\"date-parts\":[[2024,2,28]],\"date-time\":\"2024-02-28T13:20:37Z\",\"timestamp\":1709126437045},\"reference-count\":43,\"publisher\":\"Elsevier BV\",\"license\":[{\"start\":{\"date-parts\":[[2016,12,1]],\"date-time\":\"2016-12-01T00:00:00Z\",\"timestamp\":1480550400000},\"content-version\":\"tdm\",\"delay-in-days\":0,\"URL\":\"https:\\/\\/www.elsevier.com\\/tdm\\/userlicense\\/1.0\\/\"}],\"content-domain\":{\"domain\":[\"elsevier.com\",\"sciencedirect.com\"],\"crossmark-restriction\":true},\"published-print\":{\"date-parts\":[[2016,12]]},\"DOI\":\"10.1016\\/j.electstud.2016.07.002\",\"type\":\"journal-article\",\"created\":{\"date-parts\":[[2016,7,23]],\"date-time\":\"2016-07-23T05:27:36Z\",\"timestamp\":1469251656000},\"page\":\"535-543\",\"update-policy\":\"http:\\/\\/dx.doi.org\\/10.1016\\/elsevier_cm_policy\",\"source\":\"Crossref\",\"is-referenced-by-count\":3,\"title\":\"Mapping established democracies: Integrated data on parties, elections and cabinets\",\"prefix\":\"10.1016\",\"volume\":\"44\",\"author\":[{\"given\":\"Holger\",\"family\":\"D\\u00f6ring\",\"sequence\":\"first\",\"affiliation\":[]}],\"member\":\"78\",\"reference\":[{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib1\",\"series-title\":\"The European Representative Democracy Data Archive, Release 3\",\"author\":\"Andersson\",\"year\":\"2014\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib2\",\"series-title\":\"Comparative Political Data Set 1960\\u20132013\",\"author\":\"Armingeon\",\"year\":\"2015\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib3\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"143\",\"DOI\":\"10.1177\\/1354068812462931\",\"article-title\":\"Measuring party positions in Europe: the Chapel Hill expert survey trend file, 1999\\u20132010\",\"volume\":\"21\",\"author\":\"Bakker\",\"year\":\"2015\",\"journal-title\":\"Party Politics\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib4\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"303\",\"DOI\":\"10.1177\\/1354068810369148\",\"article-title\":\"Out with the old, in with the \\u201cnew\\u201d: what constitutes a new party?\",\"volume\":\"17\",\"author\":\"Barnea\",\"year\":\"2011\",\"journal-title\":\"Party Politics\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib5\",\"series-title\":\"Party Policy in Modern Democracies\",\"author\":\"Benoit\",\"year\":\"2006\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib6\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"1523\",\"DOI\":\"10.1177\\/0010414012463905\",\"article-title\":\"A\\u00a0complete data set of political regimes, 1800\\u20132007\",\"volume\":\"46\",\"author\":\"Boix\",\"year\":\"2013\",\"journal-title\":\"Comp. Political Stud.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib7\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"360\",\"DOI\":\"10.1016\\/j.electstud.2013.01.005\",\"article-title\":\"Democratic electoral systems around the world, 1946\\u20132011\",\"volume\":\"32\",\"author\":\"Bormann\",\"year\":\"2013\",\"journal-title\":\"Elect. Stud.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib8\",\"series-title\":\"Das parlamentarische Wahlrecht: Ein Handbuch \\u00fcber die Bildung der gesetzgebenden K\\u00f6rperschaften in Europa \\u2013 2. Band: Allgemeiner Teil\",\"author\":\"Braunias\",\"year\":\"1932\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib9\",\"series-title\":\"Parties and Democracy: Coalition Formation and Government Functioning in Twenty States\",\"author\":\"Budge\",\"year\":\"1993\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib10\",\"series-title\":\"Mapping Policy Preferences: Estimates for Parties, Electors, and Governments, 1945-1998\",\"author\":\"Budge\",\"year\":\"2001\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib11\",\"series-title\":\"Political Parties of Eastern Europe: a Guide to Politics in the Post-communist Era\",\"author\":\"Bugajski\",\"year\":\"2002\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib12\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"73\",\"DOI\":\"10.1111\\/j.1475-6765.1984.tb00080.x\",\"article-title\":\"Left right political scales: some expert judgments\",\"volume\":\"12\",\"author\":\"Castles\",\"year\":\"1984\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib13\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"119\",\"DOI\":\"10.1111\\/j.1475-6765.2009.01888.x\",\"article-title\":\"Measuring government duration and stability in Central Eastern European democracies\",\"volume\":\"49\",\"author\":\"Conrad\",\"year\":\"2010\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib14\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"193\",\"DOI\":\"10.1111\\/j.1467-9477.1994.tb00144.x\",\"article-title\":\"Termination of Danish government coalitions: theoretical and empirical aspects\",\"volume\":\"17\",\"author\":\"Damgaard\",\"year\":\"1994\",\"journal-title\":\"Scand. Political Stud.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib15\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"161\",\"DOI\":\"10.1177\\/1465116512461189\",\"article-title\":\"The collective action of data collection: a data infrastructure on parties, elections and cabinets\",\"volume\":\"14\",\"author\":\"D\\u00f6ring\",\"year\":\"2013\",\"journal-title\":\"Eur. Union Politics\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib16\",\"first-page\":\"17\",\"article-title\":\"ParlGov: a new data infrastructure in comparative politics\",\"volume\":\"23\",\"author\":\"D\\u00f6ring\",\"year\":\"2013\",\"journal-title\":\"APSA Comp. Politics Newsl.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib17\",\"first-page\":\"19\",\"article-title\":\"A\\u00a0user-driven and flexible procedure for data linking\",\"volume\":\"2010\",\"author\":\"Ejik\",\"year\":\"2010\",\"journal-title\":\"IASSIST Q.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib18\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"495\",\"DOI\":\"10.1111\\/j.1468-2508.2007.00546.x\",\"article-title\":\"Punishment or protest? understanding European Parliament elections\",\"volume\":\"69\",\"author\":\"Hix\",\"year\":\"2007\",\"journal-title\":\"J.\\u00a0Politics\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib19\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"965\",\"DOI\":\"10.1177\\/001041402236310\",\"article-title\":\"Does left\\/right structure party positions on European integration?\",\"volume\":\"35\",\"author\":\"Hooghe\",\"year\":\"2002\",\"journal-title\":\"Comp. Political Stud.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib20\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"73\",\"DOI\":\"10.1177\\/1354068895001001004\",\"article-title\":\"Expert interpretations of party space and party locations in 42 societies\",\"volume\":\"1\",\"author\":\"Huber\",\"year\":\"1995\",\"journal-title\":\"Party Politics\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib21\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"381\",\"DOI\":\"10.1111\\/1475-6765.12030\",\"article-title\":\"Determinants of cabinet size\",\"volume\":\"53\",\"author\":\"Indridason\",\"year\":\"2014\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib22\",\"series-title\":\"Western European Political Parties: a Comprehensive Guide\",\"year\":\"1989\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib23\",\"series-title\":\"Mapping Policy Preferences II: Estimates for Parties, Electors and Governments in Central and Eastern Europe, European Union and OECD 1990-2003\",\"author\":\"Klingemann\",\"year\":\"2006\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib24\",\"series-title\":\"Policy and Party Competition\",\"author\":\"Laver\",\"year\":\"1992\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib25\",\"series-title\":\"The International Almanac of Electoral History\",\"author\":\"Mackie\",\"year\":\"1991\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib26\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"211\",\"DOI\":\"10.1146\\/annurev.polisci.1.1.211\",\"article-title\":\"The party family and its study\",\"volume\":\"1\",\"author\":\"Mair\",\"year\":\"1998\",\"journal-title\":\"Annu. Rev. Political Sci.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib27\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"654\",\"DOI\":\"10.1111\\/1475-6765.12054\",\"article-title\":\"Defining and classifying technocrat-led and technocratic governments\",\"volume\":\"53\",\"author\":\"McDonnell\",\"year\":\"2014\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib28\",\"series-title\":\"Political Parties of Europe\",\"year\":\"1983\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib29\",\"series-title\":\"Coalition Governments in Western Europe\",\"year\":\"2000\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib30\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"869\",\"DOI\":\"10.1111\\/j.0304-4130.2004.00178.x\",\"article-title\":\"Party government in Central Eastern European democracies: a data collection (1990-2003)\",\"volume\":\"43\",\"author\":\"M\\u00fcller-Rommel\",\"year\":\"2004\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib31\",\"series-title\":\"Elections in Europe: a Data Handbook\",\"year\":\"2010\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib32\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"283\",\"DOI\":\"10.1111\\/1475-6765.00471\",\"article-title\":\"Measuring party orientations towards European integration: results from an expert survey\",\"volume\":\"36\",\"author\":\"Ray\",\"year\":\"1999\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib33\",\"series-title\":\"International Guide to Electoral Statistics; Guide International Des Statistiques \\u00c9lectorales\",\"first-page\":\"1\",\"article-title\":\"Introduction\",\"author\":\"Rokkan\",\"year\":\"1969\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib34\",\"series-title\":\"International guide to electoral statistics; Guide international des statistiques \\u00e9lectorales\",\"year\":\"1969\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib35\",\"series-title\":\"Elections and Parties in New European Democracies\",\"author\":\"Rose\",\"year\":\"2003\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib36\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"270\",\"DOI\":\"10.1016\\/j.electstud.2013.10.001\",\"article-title\":\"Updating the party government data set\",\"volume\":\"34\",\"author\":\"Seki\",\"year\":\"2014\",\"journal-title\":\"Elect. Stud.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib37\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"391\",\"DOI\":\"10.1111\\/j.1475-6765.2005.00232.x\",\"article-title\":\"How unstable? Volatility and the genuinely new parties in Eastern Europe\",\"volume\":\"44\",\"author\":\"Sikk\",\"year\":\"2005\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib38\",\"series-title\":\"Die Wahl der Parlamente und anderer Staatsorgane\",\"year\":\"1969\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib39\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"261\",\"DOI\":\"10.1111\\/1475-6765.00513\",\"article-title\":\"Delegation and accountability in parliamentary democracies\",\"volume\":\"37\",\"author\":\"Str\\u00f8m\",\"year\":\"2000\",\"journal-title\":\"Eur. J. Political Res.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib40\",\"series-title\":\"Veto Players: How Political Institutions Work\",\"author\":\"Tsebelis\",\"year\":\"2002\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib41\",\"doi-asserted-by\":\"crossref\",\"first-page\":\"187\",\"DOI\":\"10.1017\\/S0007123411000263\",\"article-title\":\"Constitutionalizing party democracy: the constitutive codification of political parties in post-war Europe\",\"volume\":\"42\",\"author\":\"Van Biezen\",\"year\":\"2012\",\"journal-title\":\"Br. J. Political Sci.\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib42\",\"series-title\":\"Mapping Policy Preferences from Texts III: Statistical Solutions for Manifesto Analysts\",\"author\":\"Volkens\",\"year\":\"2013\"},{\"key\":\"10.1016\\/j.electstud.2016.07.002_bib43\",\"series-title\":\"Party Government in 48 Democracies (1945-1998): Composition, Duration, Personnel\",\"author\":\"Woldendorp\",\"year\":\"2000\"}],\"container-title\":\"Electoral Studies\",\"original-title\":[],\"language\":\"en\",\"link\":[{\"URL\":\"https:\\/\\/api.elsevier.com\\/content\\/article\\/PII:S0261379416301652?httpAccept=text\\/xml\",\"content-type\":\"text\\/xml\",\"content-version\":\"vor\",\"intended-application\":\"text-mining\"},{\"URL\":\"https:\\/\\/api.elsevier.com\\/content\\/article\\/PII:S0261379416301652?httpAccept=text\\/plain\",\"content-type\":\"text\\/plain\",\"content-version\":\"vor\",\"intended-application\":\"text-mining\"}],\"deposited\":{\"date-parts\":[[2018,7,17]],\"date-time\":\"2018-07-17T21:43:09Z\",\"timestamp\":1531863789000},\"score\":1,\"resource\":{\"primary\":{\"URL\":\"https:\\/\\/linkinghub.elsevier.com\\/retrieve\\/pii\\/S0261379416301652\"}},\"subtitle\":[],\"short-title\":[],\"issued\":{\"date-parts\":[[2016,12]]},\"references-count\":43,\"alternative-id\":[\"S0261379416301652\"],\"URL\":\"http:\\/\\/dx.doi.org\\/10.1016\\/j.electstud.2016.07.002\",\"relation\":{},\"ISSN\":[\"0261-3794\"],\"subject\":[\"Political Science and International Relations\"],\"container-title-short\":\"Electoral Studies\",\"published\":{\"date-parts\":[[2016,12]]},\"assertion\":[{\"value\":\"Elsevier\",\"name\":\"publisher\",\"label\":\"This article is maintained by\"},{\"value\":\"Mapping established democracies: Integrated data on parties, elections and cabinets\",\"name\":\"articletitle\",\"label\":\"Article Title\"},{\"value\":\"Electoral Studies\",\"name\":\"journaltitle\",\"label\":\"Journal Title\"},{\"value\":\"https:\\/\\/doi.org\\/10.1016\\/j.electstud.2016.07.002\",\"name\":\"articlelink\",\"label\":\"CrossRef DOI link to publisher maintained version\"},{\"value\":\"article\",\"name\":\"content_type\",\"label\":\"Content Type\"},{\"value\":\"\\u00a9 2016 Elsevier Ltd. All rights reserved.\",\"name\":\"copyright\",\"label\":\"Copyright\"}]}\n\nDOI content type: json-ld\nNo acceptable resource available.\n\n```\n:::\n:::\n\n\n## Linked data json-ld\n\n_json-ld_ is only available for content registered with [DataCite](https://datacite.org/).\n\nA DOI for an article does not return _json-ld_ metadata.\n\n::: {#656e9520 .cell execution_count=4}\n``` {.python .cell-code}\ndoi_content = get_doi_data(doi, \"json-ld\")\n\ndoi_content\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\n<Response [406]>\n```\n:::\n:::\n\n\n::: {#72f1d704 .cell execution_count=5}\n``` {.python .cell-code}\ndoi_content.text\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\n'No acceptable resource available.'\n```\n:::\n:::\n\n\n---\n\nA DOI for a dataset returns _json-ld_ metadata.\n\n::: {#80061c1c .cell execution_count=6}\n``` {.python .cell-code}\ndoi_content = get_doi_data(\"10.7910/DVN/BUWAAF\", \"json-ld\")\n\ndoi_content\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n<Response [200]>\n```\n:::\n:::\n\n\n::: {#068cbfa9 .cell execution_count=7}\n``` {.python .cell-code}\ndoi_content.text\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\n'{\\n  \"@context\": \"http://schema.org\",\\n  \"@type\": \"Dataset\",\\n  \"@id\": \"https://doi.org/10.7910/dvn/buwaaf\",\\n  \"url\": \"https://dataverse.harvard.edu/citation?persistentId=doi:10.7910/DVN/BUWAAF\",\\n  \"name\": \"Party Facts – Version 2022\",\\n  \"author\": [\\n    {\\n      \"name\": \"Paul Bederke\",\\n      \"givenName\": \"Paul\",\\n      \"familyName\": \"Bederke\",\\n      \"affiliation\": {\\n        \"@type\": \"Organization\",\\n        \"name\": \"(University of Konstanz)\"\\n      },\\n      \"@type\": \"Person\",\\n      \"@id\": \"https://orcid.org/0000-0001-7555-8656\"\\n    },\\n    {\\n      \"name\": \"Holger Döring\",\\n      \"givenName\": \"Holger\",\\n      \"familyName\": \"Döring\",\\n      \"affiliation\": {\\n        \"@type\": \"Organization\",\\n        \"name\": \"(GESIS – Leibniz Institute for the Social Sciences)\"\\n      },\\n      \"@type\": \"Person\",\\n      \"@id\": \"https://orcid.org/0000-0002-6616-8805\"\\n    },\\n    {\\n      \"name\": \"Sven Regel\",\\n      \"givenName\": \"Sven\",\\n      \"familyName\": \"Regel\",\\n      \"affiliation\": {\\n        \"@type\": \"Organization\",\\n        \"name\": \"(WZB Berlin Social Science Center)\"\\n      },\\n      \"@type\": \"Person\"\\n    }\\n  ],\\n  \"editor\": {\\n    \"name\": \"Paul Bederke\",\\n    \"givenName\": \"Paul\",\\n    \"familyName\": \"Bederke\",\\n    \"affiliation\": {\\n      \"@type\": \"Organization\",\\n      \"name\": \"(University of Konstanz)\"\\n    },\\n    \"contributorType\": \"ContactPerson\",\\n    \"@type\": \"Person\"\\n  },\\n  \"description\": \"Party Facts links datasets on political parties\",\\n  \"datePublished\": \"2022\",\\n  \"schemaVersion\": \"http://datacite.org/schema/kernel-4\",\\n  \"publisher\": {\\n    \"@type\": \"Organization\",\\n    \"name\": \"Harvard Dataverse\"\\n  },\\n  \"provider\": {\\n    \"@type\": \"Organization\",\\n    \"name\": \"datacite\"\\n  }\\n}'\n```\n:::\n:::\n\n\n::: {#d365343c .cell execution_count=8}\n``` {.python .cell-code}\ndoi_content.json()\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```\n{'@context': 'http://schema.org',\n '@type': 'Dataset',\n '@id': 'https://doi.org/10.7910/dvn/buwaaf',\n 'url': 'https://dataverse.harvard.edu/citation?persistentId=doi:10.7910/DVN/BUWAAF',\n 'name': 'Party Facts – Version 2022',\n 'author': [{'name': 'Paul Bederke',\n   'givenName': 'Paul',\n   'familyName': 'Bederke',\n   'affiliation': {'@type': 'Organization',\n    'name': '(University of Konstanz)'},\n   '@type': 'Person',\n   '@id': 'https://orcid.org/0000-0001-7555-8656'},\n  {'name': 'Holger Döring',\n   'givenName': 'Holger',\n   'familyName': 'Döring',\n   'affiliation': {'@type': 'Organization',\n    'name': '(GESIS – Leibniz Institute for the Social Sciences)'},\n   '@type': 'Person',\n   '@id': 'https://orcid.org/0000-0002-6616-8805'},\n  {'name': 'Sven Regel',\n   'givenName': 'Sven',\n   'familyName': 'Regel',\n   'affiliation': {'@type': 'Organization',\n    'name': '(WZB Berlin Social Science Center)'},\n   '@type': 'Person'}],\n 'editor': {'name': 'Paul Bederke',\n  'givenName': 'Paul',\n  'familyName': 'Bederke',\n  'affiliation': {'@type': 'Organization', 'name': '(University of Konstanz)'},\n  'contributorType': 'ContactPerson',\n  '@type': 'Person'},\n 'description': 'Party Facts links datasets on political parties',\n 'datePublished': '2022',\n 'schemaVersion': 'http://datacite.org/schema/kernel-4',\n 'publisher': {'@type': 'Organization', 'name': 'Harvard Dataverse'},\n 'provider': {'@type': 'Organization', 'name': 'datacite'}}\n```\n:::\n:::\n\n\n# Redirects\n\nFinally, I was interested if there is a redirect to a DOI registration agency.\n\n<https://citation.crosscite.org/docs.html#sec-2>\n\n> \"Content negotiated requests to doi.org that ask for a content type which isn't \"text/html\" will be redirected to a metadata service hosted by the DOI's registration agency. Crossref, DataCite and mEDRA support content negotiated DOIs via their respective resolvers.\"\n\nHowever, it seems that the content is returned by _doi.org_.\n\n::: {#95c9715b .cell execution_count=9}\n``` {.python .cell-code}\nfor request_history in doi_content.history:\n    print(request_history.status_code, request_history.url)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n302 https://doi.org/10.7910/DVN/BUWAAF\n```\n:::\n:::\n\n\nA request to __http__://doi.org is redirected to __https__://doi.org, but there is no further redirect to a DOI registration agency.\n\n::: {#08b5b9a8 .cell execution_count=10}\n``` {.python .cell-code}\ndoi_url = f\"http://doi.org/{doi}\"\nheaders = {\"accept\": \"text/x-bibliography\"}\n\nr = requests.get(doi_url, headers=headers)\n\nfor request_history in r.history:\n    print(request_history.status_code, request_history.url)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n301 http://doi.org/10.1016/j.electstud.2016.07.002\n302 https://doi.org/10.1016/j.electstud.2016.07.002\n```\n:::\n:::\n\n\n---\n\n![](doi-logo.png)\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}